import React, { useState } from "react";
import { ChevronLeft, ChevronRight, Bike } from "lucide-react";

const WorkOutData = [
  {
    "id": 1,
    "image": "https://images.unsplash.com/photo-1541625602330-2277a4c46182?ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",
    "title": "13 ข้อดีของการปั่นจักรยาน",
    "duration": "1.5 km",
    "description": "การปั่นจักรยานเป็นหนึ่งในการออกกำลังกายที่ดีต่อร่างกายและจิตใจ ช่วยเสริมสร้างความแข็งแรงของกล้ามเนื้อ หัวใจ และระบบไหลเวียนเลือด นอกจากนี้ยังเป็นกิจกรรมที่ลดความเครียดและเพิ่มความสุขได้ดี",
    "benefits": [
      "ช่วยเสริมสร้างความแข็งแรงของกล้ามเนื้อขาและแกนกลางลำตัว",
      "เผาผลาญแคลอรีและช่วยในการลดน้ำหนัก",
      "ลดความเสี่ยงของโรคหัวใจและความดันโลหิตสูง",
      "ช่วยเพิ่มความอดทนและสมรรถภาพทางกาย",
      "ช่วยพัฒนาสมดุลและการประสานงานของร่างกาย",
      "เป็นมิตรต่อสิ่งแวดล้อม ไม่ปล่อยก๊าซคาร์บอนไดออกไซด์",
      "ช่วยลดความเครียดและกระตุ้นสารเอนดอร์ฟินที่ช่วยให้รู้สึกดี",
      "สามารถใช้เป็นการเดินทางประจำวัน ลดค่าใช้จ่ายการเดินทาง",
      "ช่วยเสริมสร้างสุขภาพกระดูกและข้อต่อ",
      "เพิ่มประสิทธิภาพในการทำงานของปอดและระบบไหลเวียนโลหิต",
      "ลดความเสี่ยงของโรคเบาหวานและช่วยควบคุมระดับน้ำตาลในเลือด",
      "กระตุ้นสมองและช่วยพัฒนาสมาธิ",
      "เป็นกิจกรรมที่สนุกและทำร่วมกับครอบครัวหรือเพื่อนได้"
    ],
    "instructions": [
      "เลือกจักรยานที่เหมาะสมกับสรีระและสไตล์การปั่น",
      "ตรวจเช็กลมยาง เบรก และอุปกรณ์ความปลอดภัยก่อนออกปั่น",
      "สวมหมวกกันน็อกและอุปกรณ์ป้องกันเพื่อความปลอดภัย",
      "เริ่มต้นด้วยความเร็วที่เหมาะสมและเพิ่มขึ้นตามความสามารถ",
      "รักษาท่าทางการปั่นให้ถูกต้อง โดยให้หลังตรงและมือตั้งอยู่บนแฮนด์",
      "ใช้เกียร์ให้เหมาะสมกับสภาพถนนและระดับความชัน",
      "ดื่มน้ำให้เพียงพอระหว่างการปั่นเพื่อป้องกันการขาดน้ำ",
      "เลือกเส้นทางที่ปลอดภัยและมีการจราจรไม่หนาแน่น",
      "หลังจากปั่นเสร็จ ควรยืดกล้ามเนื้อเพื่อลดความตึงของร่างกาย"
    ]
  },
  {
    "id": 2,
    "image": "https://plus.unsplash.com/premium_photo-1661665735535-b7fa35369e68?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    "title": "10 ประโยชน์ของการเดินเพื่อสุขภาพ",
    "duration": "30 นาที",
    "description": "การเดินเป็นกิจกรรมการออกกำลังกายที่ง่ายและมีประโยชน์มากมายต่อสุขภาพ ช่วยเสริมสร้างสมรรถภาพทางกาย ลดความเครียด และส่งเสริมสุขภาพจิต โดยไม่ต้องใช้อุปกรณ์หรือสถานที่พิเศษ",
    "benefits": [
    "ช่วยเสริมสร้างความแข็งแรงของกล้ามเนื้อขาและหัวใจ",
    "ช่วยเผาผลาญแคลอรีและช่วยในการควบคุมน้ำหนัก",
    "ลดความเสี่ยงของโรคหัวใจและความดันโลหิตสูง",
    "กระตุ้นการไหลเวียนของเลือดและเพิ่มออกซิเจนให้สมอง",
    "ช่วยลดความเครียดและกระตุ้นการผลิตสารเอ็นดอร์ฟินที่ทำให้รู้สึกผ่อนคลาย",
    "ช่วยพัฒนาสมดุลของร่างกายและลดความเสี่ยงของการหกล้มในผู้สูงอายุ",
    "ช่วยปรับปรุงการทำงานของระบบย่อยอาหาร",
    "เสริมสร้างสุขภาพกระดูกและลดความเสี่ยงของโรคกระดูกพรุน",
    "ช่วยให้การนอนหลับดีขึ้นและลดอาการนอนไม่หลับ",
    "เป็นกิจกรรมที่ทำได้ทุกวันโดยไม่ต้องมีค่าใช้จ่าย"
    ],
    "instructions": [
    "เลือกสวมรองเท้าที่เหมาะสมกับการเดินเพื่อป้องกันอาการบาดเจ็บ",
    "เริ่มต้นเดินช้า ๆ แล้วเพิ่มความเร็วตามความเหมาะสม",
    "รักษาท่าทางการเดินให้ถูกต้อง โดยให้หลังตรงและก้าวเท้าธรรมชาติ",
    "ดื่มน้ำให้เพียงพอก่อนและหลังการเดินเพื่อป้องกันภาวะขาดน้ำ",
    "เลือกเส้นทางที่ปลอดภัยและมีสภาพแวดล้อมที่เหมาะสม",
    "ใช้เทคนิคการเดินแบบ Interval เช่น การเดินเร็วสลับกับเดินช้าเพื่อเพิ่มประสิทธิภาพ",
    "เดินอย่างน้อย 30 นาทีต่อวันเพื่อสุขภาพที่ดีขึ้น",
    "หลังจากเดินเสร็จ ควรยืดกล้ามเนื้อเพื่อลดความตึงของร่างกาย",
    "สามารถเดินเป็นกลุ่มหรือกับเพื่อนเพื่อเพิ่มแรงจูงใจและความสนุก"
    ]
  },
  {
    "id": 3,
    "image": "https://images.unsplash.com/photo-1558611848-73f7eb4001a1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",
    "title": "7 ประโยชน์ของการดื่มน้ำให้เพียงพอ",
    "duration": "2 ลิตรต่อวัน",
    "description": "การดื่มน้ำให้เพียงพอเป็นสิ่งสำคัญต่อสุขภาพ ช่วยให้ร่างกายทำงานได้อย่างมีประสิทธิภาพ ป้องกันภาวะขาดน้ำ และส่งเสริมสุขภาพโดยรวม",
    "benefits": [
    "ช่วยให้ระบบย่อยอาหารทำงานได้ดีขึ้น",
    "เสริมสร้างการทำงานของไตและขับสารพิษออกจากร่างกาย",
    "ช่วยให้ผิวพรรณชุ่มชื้นและดูมีสุขภาพดี",
    "ช่วยควบคุมอุณหภูมิร่างกาย",
    "เพิ่มพลังงานและลดความเหนื่อยล้า",
    "ช่วยให้สมองทำงานได้ดีขึ้นและเพิ่มสมาธิ",
    "ช่วยลดความเสี่ยงของอาการปวดศีรษะและไมเกรน"
    ],
    "instructions": [
    "เริ่มต้นวันด้วยการดื่มน้ำ 1 แก้วหลังตื่นนอน",
    "พกขวดน้ำติดตัวและจิบน้ำเป็นระยะระหว่างวัน",
    "ดื่มน้ำก่อนมื้ออาหารเพื่อช่วยลดความอยากอาหาร",
    "เลือกดื่มน้ำเปล่าแทนเครื่องดื่มที่มีน้ำตาลสูง",
    "หากออกกำลังกายหรืออยู่ในที่อากาศร้อน ควรดื่มน้ำเพิ่มขึ้น",
    "สังเกตสีของปัสสาวะ หากเข้มเกินไปอาจหมายถึงร่างกายขาดน้ำ",
    "หลีกเลี่ยงการดื่มน้ำมากเกินไปในคราวเดียว ควรจิบน้ำเป็นระยะ"
    ]
  },
  {
    "id": 4,
    "image": "https://images.unsplash.com/photo-1541625602330-2277a4c46182?ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",
    "title": "ปั่นจักรยานกับเพื่อน สนุกและสุขภาพดี!",
    "duration": "15 km",
    "description": "การปั่นจักรยานกับเพื่อนเป็นกิจกรรมที่ช่วยเพิ่มความสนุกและแรงจูงใจในการออกกำลังกาย นอกจากนี้ยังช่วยสร้างความสัมพันธ์ที่ดีขึ้น",
    "benefits": [
      "ช่วยให้การออกกำลังกายไม่น่าเบื่อ",
      "กระตุ้นให้มีวินัยในการปั่นจักรยานมากขึ้น",
      "ช่วยให้สามารถปั่นได้ไกลขึ้นและนานขึ้น",
      "เสริมสร้างความสัมพันธ์กับเพื่อนหรือครอบครัว",
      "ลดความเครียดและทำให้มีความสุข"
    ],
    "instructions": [
      "ชวนเพื่อนที่มีเป้าหมายคล้ายกันมาปั่นด้วยกัน",
      "กำหนดเส้นทางที่เหมาะสมกับทุกคน",
      "ใช้กฎความปลอดภัย เช่น เว้นระยะห่างกันอย่างเหมาะสม",
      "หากปั่นทางไกล ควรหยุดพักทุก ๆ 5-10 กิโลเมตร",
      "พกน้ำและของว่างเพื่อเติมพลังระหว่างทาง"
    ]
  }
];

const itemsPerPage = 3;

function WorkoutGallery({ setActiveTab, setSelectedWorkout }) {
  const [currentPage, setCurrentPage] = useState(0);
  const totalPages = Math.ceil(WorkOutData.length / itemsPerPage);

  const handleNext = () => {
    if (currentPage < totalPages - 1) {
      setCurrentPage(currentPage + 1);
    }
  };

  const handlePrev = () => {
    if (currentPage > 0) {
      setCurrentPage(currentPage - 1);
    }
  };

  return (
    <div className="w-full overflow-hidden">
      <div className="relative flex items-center gap-4">
        <button
          onClick={handlePrev}
          disabled={currentPage === 0}
          className="p-2 disabled:opacity-50"
        >
          <ChevronLeft />
        </button>

        <div className="overflow-hidden w-full pl-4">
          <div
            className="flex transition-transform duration-300 gap-4"
            style={{ transform: `translateX(-${currentPage * 100}%)` }}
          >
            {WorkOutData.map((workout) => (
              <div
                key={workout.id}
                className="min-w-[33.333%] p-2 bg-white rounded-lg shadow-md cursor-pointer"
                onClick={() => {
                  setSelectedWorkout(workout); // Fix: Use the correct function
                  setActiveTab('workoutDetail');
                }}
              >
                <div className="relative h-48">
                  <img
                    src={workout.image}
                    alt={workout.title}
                    className="w-full h-full object-cover"
                  />
                </div>
                <div className="p-4">
                  <div className="flex items-center space-x-2 mb-2">
                    <Bike className="w-5 h-5 text-emerald-600" />
                    <span className="text-sm text-gray-600">{workout.duration}</span>
                  </div>
                  <h3 className="font-semibold text-lg">{workout.title}</h3>
                </div>
              </div>
            ))}
          </div>
          <br></br>
        </div>

        <button
          onClick={handleNext}
          disabled={currentPage === totalPages - 1}
          className="p-2 disabled:opacity-50"
        >
          <ChevronRight />
        </button>
      </div>
      <div className="text-center mt-4">
        Page {currentPage + 1} of {totalPages}
      </div>
    </div>
  );
}

export default WorkoutGallery;